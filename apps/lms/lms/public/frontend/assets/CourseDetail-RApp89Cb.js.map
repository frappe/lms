{"version":3,"file":"CourseDetail-RApp89Cb.js","sources":["../../../../frontend/src/components/CourseCardOverlay.vue","../../../../frontend/src/components/Modals/ReviewModal.vue","../../../../frontend/src/components/CourseReviews.vue","../../../../frontend/src/pages/CourseDetail.vue"],"sourcesContent":["<template>\n\t<div class=\"border-2 rounded-md min-w-80\">\n\t\t<iframe\n\t\t\tv-if=\"course.data.video_link\"\n\t\t\t:src=\"video_link\"\n\t\t\tclass=\"rounded-t-md min-h-56 w-full\"\n\t\t/>\n\t\t<div class=\"p-5\">\n\t\t\t<div v-if=\"course.data.paid_course\" class=\"text-2xl font-semibold mb-3\">\n\t\t\t\t{{ course.data.price }}\n\t\t\t</div>\n\t\t\t<div v-if=\"!readOnlyMode\">\n\t\t\t\t<div v-if=\"course.data.membership\" class=\"space-y-2\">\n\t\t\t\t\t<router-link\n\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\tname: 'Lesson',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tcourseName: course.name,\n\t\t\t\t\t\t\t\tchapterNumber: course.data.current_lesson\n\t\t\t\t\t\t\t\t\t? course.data.current_lesson.split('-')[0]\n\t\t\t\t\t\t\t\t\t: 1,\n\t\t\t\t\t\t\t\tlessonNumber: course.data.current_lesson\n\t\t\t\t\t\t\t\t\t? course.data.current_lesson.split('-')[1]\n\t\t\t\t\t\t\t\t\t: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button variant=\"solid\" size=\"md\" class=\"w-full\">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{ __('Continue Learning') }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</router-link>\n\t\t\t\t\t<CertificationLinks :courseName=\"course.data.name\" class=\"w-full\" />\n\t\t\t\t</div>\n\t\t\t\t<router-link\n\t\t\t\t\tv-else-if=\"course.data.paid_course\"\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'Billing',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\ttype: 'course',\n\t\t\t\t\t\t\tname: course.data.name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<Button variant=\"solid\" size=\"md\" class=\"w-full\">\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{{ __('Buy this course') }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Button>\n\t\t\t\t</router-link>\n\t\t\t\t<Badge\n\t\t\t\t\tv-else-if=\"course.data.disable_self_learning\"\n\t\t\t\t\ttheme=\"blue\"\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t>\n\t\t\t\t\t{{ __('Contact the Administrator to enroll for this course.') }}\n\t\t\t\t</Badge>\n\t\t\t\t<Button\n\t\t\t\t\tv-else\n\t\t\t\t\t@click=\"enrollStudent()\"\n\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\tclass=\"w-full\"\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ __('Start Learning') }}\n\t\t\t\t\t</span>\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"canGetCertificate\"\n\t\t\t\t\t@click=\"fetchCertificate()\"\n\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\tclass=\"w-full mt-2\"\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t>\n\t\t\t\t\t{{ __('Get Certificate') }}\n\t\t\t\t</Button>\n\t\t\t\t<router-link\n\t\t\t\t\tv-if=\"user?.data?.is_moderator || is_instructor()\"\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'CourseForm',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tcourseName: course.data.name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<Button variant=\"subtle\" class=\"w-full mt-2\" size=\"md\">\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{{ __('Edit') }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Button>\n\t\t\t\t</router-link>\n\t\t\t</div>\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"font-medium text-ink-gray-9\"\n\t\t\t\t\t:class=\"{ 'mt-8': !readOnlyMode }\"\n\t\t\t\t>\n\t\t\t\t\t{{ __('This course has:') }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex items-center text-ink-gray-9\">\n\t\t\t\t\t<BookOpen class=\"h-4 w-4 stroke-1.5\" />\n\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t{{ course.data.lessons }} {{ __('Lessons') }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex items-center text-ink-gray-9\">\n\t\t\t\t\t<Users class=\"h-4 w-4 stroke-1.5\" />\n\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t{{ formatAmount(course.data.enrollments) }}\n\t\t\t\t\t\t{{ __('Enrolled Students') }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"parseInt(course.data.rating) > 0\"\n\t\t\t\t\tclass=\"flex items-center text-ink-gray-9\"\n\t\t\t\t>\n\t\t\t\t\t<Star class=\"size-4 stroke-1.5 fill-yellow-500 text-transparent\" />\n\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t{{ course.data.rating }} {{ __('Rating') }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"course.data.enable_certification\"\n\t\t\t\t\tclass=\"flex items-center font-semibold text-ink-gray-9\"\n\t\t\t\t>\n\t\t\t\t\t<GraduationCap class=\"h-4 w-4 stroke-2\" />\n\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t{{ __('Certificate of Completion') }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"course.data.paid_certificate\"\n\t\t\t\t\tclass=\"flex items-center font-semibold text-ink-gray-9\"\n\t\t\t\t>\n\t\t\t\t\t<GraduationCap class=\"h-4 w-4 stroke-2\" />\n\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t{{ __('Paid Certificate after Evaluation') }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport { BookOpen, Users, Star, GraduationCap } from 'lucide-vue-next'\nimport { computed, inject } from 'vue'\nimport { Badge, Button, createResource, toast } from 'frappe-ui'\nimport { formatAmount } from '@/utils/'\nimport { capture } from '@/telemetry'\nimport { useRouter } from 'vue-router'\nimport CertificationLinks from '@/components/CertificationLinks.vue'\n\nconst router = useRouter()\nconst user = inject('$user')\nconst readOnlyMode = window.read_only_mode\n\nconst props = defineProps({\n\tcourse: {\n\t\ttype: Object,\n\t\tdefault: null,\n\t},\n})\n\nconst video_link = computed(() => {\n\tif (props.course.data.video_link) {\n\t\treturn 'https://www.youtube.com/embed/' + props.course.data.video_link\n\t}\n\treturn null\n})\n\nfunction enrollStudent() {\n\tif (!user.data) {\n\t\ttoast.success(__('You need to login first to enroll for this course'))\n\t\tsetTimeout(() => {\n\t\t\twindow.location.href = `/login?redirect-to=${window.location.pathname}`\n\t\t}, 1000)\n\t} else {\n\t\tconst enrollStudentResource = createResource({\n\t\t\turl: 'lms.lms.doctype.lms_enrollment.lms_enrollment.create_membership',\n\t\t})\n\t\tenrollStudentResource\n\t\t\t.submit({\n\t\t\t\tcourse: props.course.data.name,\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tcapture('enrolled_in_course', {\n\t\t\t\t\tcourse: props.course.data.name,\n\t\t\t\t})\n\t\t\t\ttoast.success(__('You have been enrolled in this course'))\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\trouter.push({\n\t\t\t\t\t\tname: 'Lesson',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tcourseName: props.course.data.name,\n\t\t\t\t\t\t\tchapterNumber: 1,\n\t\t\t\t\t\t\tlessonNumber: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t}, 2000)\n\t\t\t})\n\t}\n}\n\nconst is_instructor = () => {\n\tlet user_is_instructor = false\n\tprops.course.data.instructors.forEach((instructor) => {\n\t\tif (!user_is_instructor && instructor.name == user.data?.name) {\n\t\t\tuser_is_instructor = true\n\t\t}\n\t})\n\treturn user_is_instructor\n}\n\nconst canGetCertificate = computed(() => {\n\tif (\n\t\tprops.course.data?.enable_certification &&\n\t\tprops.course.data?.membership?.progress == 100\n\t) {\n\t\treturn true\n\t}\n\treturn false\n})\n\nconst certificate = createResource({\n\turl: 'lms.lms.doctype.lms_certificate.lms_certificate.create_certificate',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tcourse: values.course,\n\t\t}\n\t},\n\tonSuccess(data) {\n\t\twindow.open(\n\t\t\t`/api/method/frappe.utils.print_format.download_pdf?doctype=LMS+Certificate&name=${\n\t\t\t\tdata.name\n\t\t\t}&format=${encodeURIComponent(data.template)}`,\n\t\t\t'_blank'\n\t\t)\n\t},\n})\n\nconst fetchCertificate = () => {\n\tcertificate.submit({\n\t\tcourse: props.course.data?.name,\n\t\tmember: user.data?.name,\n\t})\n}\n</script>\n","<template>\n\t<Dialog\n\t\tv-model=\"show\"\n\t\t:options=\"{\n\t\t\ttitle: __('Write a Review'),\n\t\t\tsize: 'xl',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Submit',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\tonClick: (close) => submitReview(close),\n\t\t\t\t},\n\t\t\t],\n\t\t}\"\n\t>\n\t\t<template #body-content>\n\t\t\t<div class=\"flex flex-col gap-4\">\n\t\t\t\t<Rating v-model=\"review.rating\" :label=\"__('Rating')\" />\n\t\t\t\t<FormControl\n\t\t\t\t\t:label=\"__('Review')\"\n\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\tv-model=\"review.review\"\n\t\t\t\t\t:rows=\"5\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n<script setup>\nimport { Dialog, FormControl, createResource, toast, Rating } from 'frappe-ui'\nimport { reactive } from 'vue'\n\nconst show = defineModel()\nconst reviews = defineModel('reloadReviews')\nconst hasReviewed = defineModel('hasReviewed')\n\nlet review = reactive({\n\treview: '',\n\trating: 0,\n})\n\nconst props = defineProps({\n\tcourseName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst createReview = createResource({\n\turl: 'frappe.client.insert',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoc: {\n\t\t\t\tdoctype: 'LMS Course Review',\n\t\t\t\tcourse: props.courseName,\n\t\t\t\t...values,\n\t\t\t},\n\t\t}\n\t},\n})\nfunction submitReview(close) {\n\treview.rating = review.rating / 5\n\tcreateReview.submit(review, {\n\t\tvalidate() {\n\t\t\tif (!review.rating) {\n\t\t\t\treturn 'Please enter a rating.'\n\t\t\t}\n\t\t},\n\t\tonSuccess() {\n\t\t\treviews.value.reload()\n\t\t\thasReviewed.value.reload()\n\t\t},\n\t\tonError(err) {\n\t\t\ttoast.error(err.messages?.[0] || err)\n\t\t},\n\t})\n\tclose()\n}\n</script>\n","<template>\n\t<div v-if=\"reviews.data?.length || membership\" class=\"mt-20 mb-10\">\n\t\t<Button\n\t\t\tv-if=\"membership && !hasReviewed.data\"\n\t\t\t@click=\"openReviewModal()\"\n\t\t\tclass=\"float-right\"\n\t\t>\n\t\t\t{{ __('Write a Review') }}\n\t\t</Button>\n\t\t<div class=\"flex items-center font-semibold text-2xl text-ink-gray-9\">\n\t\t\t{{ __('Student Reviews') }}\n\t\t</div>\n\t\t<div class=\"grid gap-8 mt-10\">\n\t\t\t<div v-for=\"(review, index) in reviews.data\">\n\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t<router-link\n\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\tname: 'Profile',\n\t\t\t\t\t\t\tparams: { username: review.owner_details.username },\n\t\t\t\t\t\t}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<UserAvatar :user=\"review.owner_details\" :size=\"'2xl'\" />\n\t\t\t\t\t</router-link>\n\t\t\t\t\t<div class=\"mx-4\">\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\t\tname: 'Profile',\n\t\t\t\t\t\t\t\tparams: { username: review.owner_details.username },\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"text-lg font-medium mr-4 text-ink-gray-7\">\n\t\t\t\t\t\t\t\t{{ review.owner_details.full_name }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t<span class=\"text-ink-gray-7\">\n\t\t\t\t\t\t\t{{ review.creation }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<div class=\"flex mt-2 space-x-1\">\n\t\t\t\t\t\t\t<Star\n\t\t\t\t\t\t\t\tv-for=\"index in 5\"\n\t\t\t\t\t\t\t\tclass=\"size-4 text-transparent rounded-sm\"\n\t\t\t\t\t\t\t\t:class=\"\n\t\t\t\t\t\t\t\t\tindex <= Math.ceil(review.rating)\n\t\t\t\t\t\t\t\t\t\t? 'fill-yellow-500'\n\t\t\t\t\t\t\t\t\t\t: 'fill-gray-300'\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"review.review\" class=\"mt-4 leading-5 text-ink-gray-7\">\n\t\t\t\t\t{{ review.review }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<ReviewModal\n\t\tv-model=\"showReviewModal\"\n\t\tv-model:reloadReviews=\"reviews\"\n\t\tv-model:hasReviewed=\"hasReviewed\"\n\t\t:courseName=\"courseName\"\n\t/>\n</template>\n<script setup>\nimport { Star } from 'lucide-vue-next'\nimport { createResource, Button } from 'frappe-ui'\nimport { computed, ref, inject } from 'vue'\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport ReviewModal from '@/components/Modals/ReviewModal.vue'\n\nconst user = inject('$user')\n\nconst props = defineProps({\n\tcourseName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tavg_rating: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tmembership: {\n\t\ttype: Object,\n\t\trequired: false,\n\t},\n})\n\nconst hasReviewed = createResource({\n\turl: 'frappe.client.get_count',\n\tcache: ['eligible_to_review', props.courseName, props.membership?.member],\n\tparams: {\n\t\tdoctype: 'LMS Course Review',\n\t\tfilters: {\n\t\t\tcourse: props.courseName,\n\t\t\towner: props.membership?.member,\n\t\t},\n\t},\n\tauto: user.data?.name ? true : false,\n})\n\nconst reviews = createResource({\n\turl: 'lms.lms.utils.get_reviews',\n\tcache: ['course_reviews', props.courseName],\n\tparams: {\n\t\tcourse: props.courseName,\n\t},\n\tauto: true,\n})\n\nconst showReviewModal = ref(false)\n\nfunction openReviewModal() {\n\tshowReviewModal.value = true\n}\n</script>\n","<template>\n\t<div v-if=\"course.data\">\n\t\t<header\n\t\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n\t\t>\n\t\t\t<Breadcrumbs class=\"h-7\" :items=\"breadcrumbs\" />\n\t\t</header>\n\t\t<div class=\"m-5\">\n\t\t\t<div class=\"flex justify-between w-full\">\n\t\t\t\t<div class=\"md:w-2/3\">\n\t\t\t\t\t<div class=\"text-3xl font-semibold text-ink-gray-9\">\n\t\t\t\t\t\t{{ course.data.title }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"my-3 leading-6 text-ink-gray-7\">\n\t\t\t\t\t\t{{ course.data.short_introduction }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\tv-if=\"parseInt(course.data.rating) > 0\"\n\t\t\t\t\t\t\t:text=\"__('Average Rating')\"\n\t\t\t\t\t\t\tclass=\"flex items-center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Star class=\"size-4 text-transparent fill-yellow-500\" />\n\t\t\t\t\t\t\t<span class=\"ml-1 text-ink-gray-7\">\n\t\t\t\t\t\t\t\t{{ course.data.rating }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t<span v-if=\"parseInt(course.data.rating) > 0\" class=\"mx-3\"\n\t\t\t\t\t\t\t>&middot;</span\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\tv-if=\"course.data.enrollment_count\"\n\t\t\t\t\t\t\t:text=\"__('Enrolled Students')\"\n\t\t\t\t\t\t\tclass=\"flex items-center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Users class=\"h-4 w-4 text-ink-gray-7\" />\n\t\t\t\t\t\t\t<span class=\"ml-1\">\n\t\t\t\t\t\t\t\t{{ course.data.enrollment_count_formatted }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t<span v-if=\"course.data.enrollment_count\" class=\"mx-3\"\n\t\t\t\t\t\t\t>&middot;</span\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass=\"h-6 mr-1\"\n\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t\t'avatar-group overlap': course.data.instructors.length > 1,\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<UserAvatar\n\t\t\t\t\t\t\t\t\tv-for=\"instructor in course.data.instructors\"\n\t\t\t\t\t\t\t\t\t:user=\"instructor\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<CourseInstructors :instructors=\"course.data.instructors\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"course.data.tags\" class=\"flex my-4 w-fit\">\n\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\ttheme=\"gray\"\n\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\tclass=\"mr-2 text-ink-gray-9\"\n\t\t\t\t\t\t\tv-for=\"tag in course.data.tags.split(', ')\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ tag }}\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t</div>\n\t\t\t\t\t<CourseCardOverlay :course=\"course\" class=\"md:hidden mb-4\" />\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-html=\"course.data.description\"\n\t\t\t\t\t\tclass=\"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal mt-10\"\n\t\t\t\t\t></div>\n\t\t\t\t\t<div class=\"mt-10\">\n\t\t\t\t\t\t<CourseOutline\n\t\t\t\t\t\t\t:title=\"__('Course Outline')\"\n\t\t\t\t\t\t\t:courseName=\"course.data.name\"\n\t\t\t\t\t\t\t:showOutline=\"true\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<CourseReviews\n\t\t\t\t\t\t:courseName=\"course.data.name\"\n\t\t\t\t\t\t:avg_rating=\"course.data.rating\"\n\t\t\t\t\t\t:membership=\"course.data.membership\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"hidden md:block\">\n\t\t\t\t\t<CourseCardOverlay :course=\"course\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport {\n\tcreateResource,\n\tBreadcrumbs,\n\tBadge,\n\tTooltip,\n\tusePageMeta,\n} from 'frappe-ui'\nimport { computed } from 'vue'\nimport { Users, Star } from 'lucide-vue-next'\nimport { sessionStore } from '@/stores/session'\nimport CourseCardOverlay from '@/components/CourseCardOverlay.vue'\nimport CourseOutline from '@/components/CourseOutline.vue'\nimport CourseReviews from '@/components/CourseReviews.vue'\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport CourseInstructors from '@/components/CourseInstructors.vue'\n\nconst { brand } = sessionStore()\n\nconst props = defineProps({\n\tcourseName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst course = createResource({\n\turl: 'lms.lms.utils.get_course_details',\n\tcache: ['course', props.courseName],\n\tparams: {\n\t\tcourse: props.courseName,\n\t},\n\tauto: true,\n})\n\nconst breadcrumbs = computed(() => {\n\tlet items = [{ label: 'Courses', route: { name: 'Courses' } }]\n\titems.push({\n\t\tlabel: course?.data?.title,\n\t\troute: { name: 'CourseDetail', params: { courseName: course?.data?.name } },\n\t})\n\treturn items\n})\n\nusePageMeta(() => {\n\treturn {\n\t\ttitle: course?.data?.title,\n\t\ticon: brand.favicon,\n\t}\n})\n</script>\n<style>\n.avatar-group {\n\tdisplay: inline-flex;\n\talign-items: center;\n}\n\n.avatar-group .avatar {\n\ttransition: margin 0.1s ease-in-out;\n}\n</style>\n"],"names":["router","useRouter","user","inject","readOnlyMode","props","__props","video_link","computed","enrollStudent","createResource","capture","toast","is_instructor","user_is_instructor","instructor","_a","canGetCertificate","_c","_b","certificate","values","data","fetchCertificate","show","_useModel","reviews","hasReviewed","review","reactive","createReview","submitReview","close","err","showReviewModal","ref","openReviewModal","brand","sessionStore","course","breadcrumbs","items","usePageMeta"],"mappings":"gzCA0JA,MAAMA,EAASC,EAAS,EAClBC,EAAOC,EAAO,OAAO,EACrBC,EAAe,OAAO,eAEtBC,EAAQC,EAORC,EAAaC,EAAS,IACvBH,EAAM,OAAO,KAAK,WACd,iCAAmCA,EAAM,OAAO,KAAK,WAEtD,IACP,EAED,SAASI,GAAgB,CACnBP,EAAK,KAMqBQ,EAAe,CAC5C,IAAK,iEACL,CAAA,EAEC,OAAO,CACP,OAAQL,EAAM,OAAO,KAAK,IAC1B,CAAA,EACA,KAAK,IAAM,CACXM,EAAQ,qBAAsB,CAC7B,OAAQN,EAAM,OAAO,KAAK,IAC1B,CAAA,EACDO,EAAM,QAAQ,GAAG,uCAAuC,CAAC,EACzD,WAAW,IAAM,CAChBZ,EAAO,KAAK,CACX,KAAM,SACN,OAAQ,CACP,WAAYK,EAAM,OAAO,KAAK,KAC9B,cAAe,EACf,aAAc,CACd,CACD,CAAA,CACN,EAAO,GAAI,CACP,CAAA,GA3BFO,EAAM,QAAQ,GAAG,mDAAmD,CAAC,EACrE,WAAW,IAAM,CAChB,OAAO,SAAS,KAAO,sBAAsB,OAAO,SAAS,QAAQ,EACxE,EAAK,GAAI,EA0BT,CAEA,MAAMC,EAAgB,IAAM,CAC3B,IAAIC,EAAqB,GACzB,OAAAT,EAAM,OAAO,KAAK,YAAY,QAASU,GAAe,OACjD,CAACD,GAAsBC,EAAW,QAAQC,EAAAd,EAAK,OAAL,YAAAc,EAAW,QACxDF,EAAqB,GAEtB,CAAA,EACMA,CACR,EAEMG,EAAoBT,EAAS,IAAM,WACxC,MACC,IAAAQ,EAAAX,EAAM,OAAO,OAAb,MAAAW,EAAmB,wBACnBE,GAAAC,EAAAd,EAAM,OAAO,OAAb,YAAAc,EAAmB,aAAnB,YAAAD,EAA+B,WAAY,IAK7C,CAAC,EAEKE,EAAcV,EAAe,CAClC,IAAK,qEACL,WAAWW,EAAQ,CAClB,MAAO,CACN,OAAQA,EAAO,MAClB,CACE,EACD,UAAUC,EAAM,CACf,OAAO,KACN,mFACCA,EAAK,IACL,WAAU,mBAAmBA,EAAK,QAAQ,CAAC,GAC5C,QACH,CACE,CACF,CAAC,EAEKC,EAAmB,IAAM,SAC9BH,EAAY,OAAO,CAClB,QAAQJ,EAAAX,EAAM,OAAO,OAAb,YAAAW,EAAmB,KAC3B,QAAQG,EAAAjB,EAAK,OAAL,YAAAiB,EAAW,IACnB,CAAA,CACF,q+FCvNA,MAAMK,EAAOC,EAAYnB,EAAA,YAAA,EACnBoB,EAAUD,EAAWnB,EAAC,eAAe,EACrCqB,EAAcF,EAAYnB,EAAA,aAAa,EAE7C,IAAIsB,EAASC,EAAS,CACrB,OAAQ,GACR,OAAQ,CACT,CAAC,EAED,MAAMxB,EAAQC,EAORwB,EAAepB,EAAe,CACnC,IAAK,uBACL,WAAWW,EAAQ,CAClB,MAAO,CACN,IAAK,CACJ,QAAS,oBACT,OAAQhB,EAAM,WACd,GAAGgB,CACH,CACJ,CACE,CACF,CAAC,EACD,SAASU,EAAaC,EAAO,CAC5BJ,EAAO,OAASA,EAAO,OAAS,EAChCE,EAAa,OAAOF,EAAQ,CAC3B,UAAW,CACV,GAAI,CAACA,EAAO,OACX,MAAO,wBAER,EACD,WAAY,CACXF,EAAQ,MAAM,OAAM,EACpBC,EAAY,MAAM,OAAM,CACxB,EACD,QAAQM,EAAK,OACZrB,EAAM,QAAMI,EAAAiB,EAAI,WAAJ,YAAAjB,EAAe,KAAMiB,CAAG,CACpC,CACD,CAAA,EACDD,EAAK,CACN,6jCCPA,MAAM9B,EAAOC,EAAO,OAAO,EAErBE,EAAQC,EAeRqB,EAAcjB,EAAe,CAClC,IAAK,0BACL,MAAO,CAAC,qBAAsBL,EAAM,YAAYW,EAAAX,EAAM,aAAN,YAAAW,EAAkB,MAAM,EACxE,OAAQ,CACP,QAAS,oBACT,QAAS,CACR,OAAQX,EAAM,WACd,OAAOc,EAAAd,EAAM,aAAN,YAAAc,EAAkB,MACzB,CACD,EACD,KAAM,IAAAD,EAAAhB,EAAK,OAAL,MAAAgB,EAAW,KAClB,CAAC,EAEKQ,EAAUhB,EAAe,CAC9B,IAAK,4BACL,MAAO,CAAC,iBAAkBL,EAAM,UAAU,EAC1C,OAAQ,CACP,OAAQA,EAAM,UACd,EACD,KAAM,EACP,CAAC,EAEK6B,EAAkBC,EAAI,EAAK,EAEjC,SAASC,GAAkB,CAC1BF,EAAgB,MAAQ,EACzB,s7DCHA,KAAM,CAAE,MAAAG,CAAO,EAAGC,GAAY,EAExBjC,EAAQC,EAORiC,EAAS7B,EAAe,CAC7B,IAAK,mCACL,MAAO,CAAC,SAAUL,EAAM,UAAU,EAClC,OAAQ,CACP,OAAQA,EAAM,UACd,EACD,KAAM,EACP,CAAC,EAEKmC,EAAchC,EAAS,IAAM,SAClC,IAAIiC,EAAQ,CAAC,CAAE,MAAO,UAAW,MAAO,CAAE,KAAM,UAAa,CAAA,EAC7D,OAAAA,EAAM,KAAK,CACV,OAAOzB,EAAAuB,GAAA,YAAAA,EAAQ,OAAR,YAAAvB,EAAc,MACrB,MAAO,CAAE,KAAM,eAAgB,OAAQ,CAAE,YAAYG,EAAAoB,GAAA,YAAAA,EAAQ,OAAR,YAAApB,EAAc,KAAQ,CAC3E,CAAA,EACMsB,CACR,CAAC,EAED,OAAAC,GAAY,IAAM,OACjB,MAAO,CACN,OAAO1B,EAAAuB,GAAA,YAAAA,EAAQ,OAAR,YAAAvB,EAAc,MACrB,KAAMqB,EAAM,OACd,CACA,CAAC"}