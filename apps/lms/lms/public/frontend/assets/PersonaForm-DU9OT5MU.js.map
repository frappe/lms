{"version":3,"file":"PersonaForm-DU9OT5MU.js","sources":["../../../../frontend/src/pages/PersonaForm.vue"],"sourcesContent":["<template>\n\t<div class=\"flex h-screen overflow-hidden sm:bg-gray-50\">\n\t\t<div class=\"relative h-full z-10 mx-auto sm:w-max pt-40\">\n\t\t\t<div class=\"mx-auto flex items-center justify-center space-x-2\">\n\t\t\t\t<LMSLogo class=\"size-7\" />\n\t\t\t\t<span\n\t\t\t\t\tclass=\"select-none text-xl font-semibold tracking-tight text-gray-900\"\n\t\t\t\t>\n\t\t\t\t\tLearning\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass=\"mx-auto w-full h-fit bg-white py-8 sm:mt-6 sm:w-96 sm:rounded-lg sm:px-8 sm:shadow-xl\"\n\t\t\t>\n\t\t\t\t<div class=\"font-medium text-center mb-8\">\n\t\t\t\t\t{{ __('Help us understand your needs') }}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-5\">\n\t\t\t\t\t<div class=\"text-sm text-gray-700 mb-2\">\n\t\t\t\t\t\t{{ __('What is your use case for Frappe Learning?') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"persona.useCase\"\n\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t:options=\"useCaseOptions\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mb-5\">\n\t\t\t\t\t<div class=\"text-sm text-gray-700 mb-2\">\n\t\t\t\t\t\t{{ __('What best describes your role?') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"persona.role\"\n\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t:options=\"roleOptions\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"flex w-full\">\n\t\t\t\t\t<Button variant=\"solid\" class=\"mx-auto\" @click=\"submitPersona()\">\n\t\t\t\t\t\t{{ __('Submit and Continue') }}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass=\"text-center absolute bottom-0 right-0 left-0 mx-auto cursor-pointer text-sm pb-4\"\n\t\t\t\t@click=\"skipPersonaForm()\"\n\t\t\t>\n\t\t\t\t{{ __('Skip') }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport LMSLogo from '@/components/Icons/LMSLogo.vue'\nimport { Button, call, FormControl, usePageMeta } from 'frappe-ui'\nimport { computed, inject, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { sessionStore } from '@/stores/session'\n\nconst user = inject('$user')\nconst router = useRouter()\nconst { brand } = sessionStore()\n\nconst persona = reactive({\n\trole: null,\n\tuseCase: null,\n})\n\nconst submitPersona = () => {\n\tlet responses = {\n\t\tsite: user.data?.sitename,\n\t\tno_of_students: persona.noOfStudents,\n\t\tuse_case: persona.useCase,\n\t}\n\tcall('lms.lms.api.capture_user_persona', {\n\t\tresponses: JSON.stringify(responses),\n\t}).then(() => {\n\t\trouter.push({\n\t\t\tname: 'Courses',\n\t\t})\n\t})\n}\n\nconst skipPersonaForm = () => {\n\tcall('frappe.client.set_value', {\n\t\tdoctype: 'LMS Settings',\n\t\tname: null,\n\t\tfieldname: 'persona_captured',\n\t\tvalue: 1,\n\t}).then(() => {\n\t\trouter.push({\n\t\t\tname: 'Courses',\n\t\t})\n\t})\n}\n\nconst roleOptions = computed(() => {\n\tconst options = [\n\t\t'Trainer / Instructor',\n\t\t'Freelancer / Consultant',\n\t\t'HR / L&D Professional',\n\t\t'School / University Admin',\n\t\t'Software Developer',\n\t\t'Community Manager',\n\t\t'Business Owner / Team Lead',\n\t\t'Other',\n\t]\n\n\treturn options.map((option) => ({\n\t\tlabel: option,\n\t\tvalue: option,\n\t}))\n})\n\nconst noOfStudentsOptions = computed(() => {\n\tconst options = [\n\t\t'Less than 50',\n\t\t'50-200',\n\t\t'200-1000',\n\t\t'1000+',\n\t\t'Not sure yet',\n\t]\n\n\treturn options.map((option) => ({\n\t\tlabel: option,\n\t\tvalue: option,\n\t}))\n})\n\nconst useCaseOptions = computed(() => {\n\tconst options = [\n\t\t'Teaching students in a school/university',\n\t\t'Training employees in my company',\n\t\t'Onboarding and educating my users/community',\n\t\t'Selling courses and earning income',\n\t\t'Other',\n\t]\n\n\treturn options.map((option) => ({\n\t\tlabel: option,\n\t\tvalue: option,\n\t}))\n})\n\nusePageMeta(() => {\n\treturn {\n\t\ttitle: 'Persona',\n\t\ticon: brand.favicon,\n\t}\n})\n</script>\n"],"names":["user","inject","router","useRouter","brand","sessionStore","persona","reactive","submitPersona","responses","_a","call","skipPersonaForm","roleOptions","computed","option","useCaseOptions","usePageMeta"],"mappings":"yoBA8DA,MAAMA,EAAOC,EAAO,OAAO,EACrBC,EAASC,EAAS,EAClB,CAAE,MAAAC,CAAO,EAAGC,EAAY,EAExBC,EAAUC,EAAS,CACxB,KAAM,KACN,QAAS,IACV,CAAC,EAEKC,EAAgB,IAAM,OAC3B,IAAIC,EAAY,CACf,MAAMC,EAAAV,EAAK,OAAL,YAAAU,EAAW,SACjB,eAAgBJ,EAAQ,aACxB,SAAUA,EAAQ,OACpB,EACCK,EAAK,mCAAoC,CACxC,UAAW,KAAK,UAAUF,CAAS,CACrC,CAAE,EAAE,KAAK,IAAM,CACbP,EAAO,KAAK,CACX,KAAM,SACN,CAAA,CACD,CAAA,CACF,EAEMU,EAAkB,IAAM,CAC7BD,EAAK,0BAA2B,CAC/B,QAAS,eACT,KAAM,KACN,UAAW,mBACX,MAAO,CACT,CAAE,EAAE,KAAK,IAAM,CACbT,EAAO,KAAK,CACX,KAAM,SACN,CAAA,CACD,CAAA,CACF,EAEMW,EAAcC,EAAS,IACZ,CACf,uBACA,0BACA,wBACA,4BACA,qBACA,oBACA,6BACA,OACF,EAEgB,IAAKC,IAAY,CAC/B,MAAOA,EACP,MAAOA,CACT,EAAG,CACF,EAE2BD,EAAS,IACpB,CACf,eACA,SACA,WACA,QACA,cACF,EAEgB,IAAKC,IAAY,CAC/B,MAAOA,EACP,MAAOA,CACT,EAAG,CACF,EAED,MAAMC,EAAiBF,EAAS,IACf,CACf,2CACA,mCACA,8CACA,qCACA,OACF,EAEgB,IAAKC,IAAY,CAC/B,MAAOA,EACP,MAAOA,CACT,EAAG,CACF,EAED,OAAAE,EAAY,KACJ,CACN,MAAO,UACP,KAAMb,EAAM,OACd,EACC"}