{"version":3,"file":"Badge-CNGFOYvo.js","sources":["../../../../frontend/src/pages/Badge.vue"],"sourcesContent":["<template>\n\t<div v-if=\"badge.data\">\n\t\t<div class=\"p-5 flex flex-col items-center mt-40\">\n\t\t\t<div class=\"text-3xl font-semibold\">\n\t\t\t\t{{ badge.data.badge }}\n\t\t\t</div>\n\t\t\t<img\n\t\t\t\t:src=\"badge.data.badge_image\"\n\t\t\t\t:alt=\"badge.data.badge\"\n\t\t\t\tclass=\"h-60 mt-2\"\n\t\t\t/>\n\t\t\t<div class=\"\">\n\t\t\t\t{{\n\t\t\t\t\t__('This badge has been awarded to {0} on {1}.').format(\n\t\t\t\t\t\tbadge.data.member_name,\n\t\t\t\t\t\tdayjs(badge.data.issued_on).format('DD MMM YYYY')\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</div>\n\t\t\t<div class=\"mt-2\">\n\t\t\t\t{{ badge.data.badge_description }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport { createResource, usePageMeta } from 'frappe-ui'\nimport { computed, inject } from 'vue'\nimport { sessionStore } from '../stores/session'\n\nconst dayjs = inject('$dayjs')\nconst { brand } = sessionStore()\n\nconst props = defineProps({\n\tbadgeName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\temail: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst badge = createResource({\n\turl: 'frappe.client.get',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoctype: 'LMS Badge Assignment',\n\t\t\tfilters: {\n\t\t\t\tbadge: props.badgeName,\n\t\t\t\tmember: props.email,\n\t\t\t},\n\t\t}\n\t},\n\tauto: true,\n})\n\nconst breadcrumbs = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: 'Badges',\n\t\t},\n\t\t{\n\t\t\tlabel: badge.data.badge,\n\t\t\troute: {\n\t\t\t\tname: 'Badge',\n\t\t\t\tparams: {\n\t\t\t\t\tbadge: badge.data.badge,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t]\n})\n\nusePageMeta(() => {\n\treturn {\n\t\ttitle: badge.data.badge,\n\t\ticon: brand.favicon,\n\t}\n})\n</script>\n"],"names":["dayjs","inject","brand","sessionStore","props","__props","badge","createResource","values","computed","usePageMeta"],"mappings":"kWA8BA,MAAMA,EAAQC,EAAO,QAAQ,EACvB,CAAE,MAAAC,CAAO,EAAGC,EAAY,EAExBC,EAAQC,EAWRC,EAAQC,EAAe,CAC5B,IAAK,oBACL,WAAWC,EAAQ,CAClB,MAAO,CACN,QAAS,uBACT,QAAS,CACR,MAAOJ,EAAM,UACb,OAAQA,EAAM,KACd,CACJ,CACE,EACD,KAAM,EACP,CAAC,EAEmB,OAAAK,EAAS,IACrB,CACN,CACC,MAAO,QACP,EACD,CACC,MAAOH,EAAM,KAAK,MAClB,MAAO,CACN,KAAM,QACN,OAAQ,CACP,MAAOA,EAAM,KAAK,KAClB,CACD,CACD,CACH,CACC,EAEDI,EAAY,KACJ,CACN,MAAOJ,EAAM,KAAK,MAClB,KAAMJ,EAAM,OACd,EACC"}