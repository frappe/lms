import{b1 as _,aq as Y,r as O,o as C,b2 as k,af as B,T as N,e as A,f as v,F as z,b3 as g,b4 as L,g as m,t as x,b as E,j as X,C as M,k as G,l as S}from"./index-D24HXhLT.js";function T(e){return e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function f(e,t=0,s=!1){if(isNaN(e))return e.toString();let r="en-US";return s?new Intl.NumberFormat(r,{notation:"compact",maximumFractionDigits:t}).format(e):(t=t||$(e),new Intl.NumberFormat(r,{minimumFractionDigits:t,maximumFractionDigits:t}).format(e))}function $(e){if(!e||isNaN(e))return 0;const t=e.toString(),s=t.indexOf(".");return s===-1?0:Math.min(t.length-s-1,2)}function j(e,t,s="day"){return e?(s&&(t={second:"MMMM D, YYYY h:mm:ss A",minute:"MMMM D, YYYY h:mm A",hour:"MMMM D, YYYY h:00 A",day:"MMMM D, YYYY",week:"MMM Do, YYYY",month:"MMMM, YYYY",year:"YYYY",quarter:"[Q]Q, YYYY"}[s]),t||(t="MMM D, YY"),_(e).format(t)):""}function w(e){return e&&typeof e=="object"&&!Array.isArray(e)}function h(e,...t){if(!t.length)return e;const s=t.shift();if(!s||!w(e)||!w(s))return h(e,...t);let r=Object.assign({},e);return Object.keys(s).forEach(i=>{w(s[i])&&i in r?r[i]=h(r[i],s[i]):r[i]=s[i]}),h(r,...t)}const W=0,F=10,P=30,H=10,V=20,U=18,Z=24;function q(e){var d;const t=e.title,s=e.subtitle,r=t?1:0,i=s?1:0;e.xAxis.title,e.yAxis.title,(d=e.y2Axis)!=null&&d.title;const o=e.series.length>1?1:0,a=R(e),y=J(e);return{animation:!0,animationDuration:700,textStyle:{fontFamily:["InterVar","sans-serif"]},title:Q(t,s),color:e.colors,grid:{left:"1%",right:e.swapXY?"2.5%":"1.5%",top:W+V*r+U*i+Z,bottom:F+P*o,containLabel:!0},xAxis:a,yAxis:y,series:[],tooltip:{show:!0,trigger:"axis",formatter:c=>{if(Array.isArray(c)&&(c=c.filter(l=>{var n;return((n=l.value)==null?void 0:n[1])!==0}).sort((l,n)=>{var u,p;return((u=n.value)==null?void 0:u[1])-((p=l.value)==null?void 0:p[1])})),!Array.isArray(c)){const l=c,n=e.swapXY?l.value[0]:l.value[1],u=isNaN(n)?n:f(n);return`
                <div class="flex items-center justify-between gap-5">
                  <div>${l.name}</div>
                  <div class="font-bold">${u}</div>
                </div>
              `}if(Array.isArray(c))return c.map((n,u)=>{const p=e.swapXY?n.value[1]:n.value[0],b=e.swapXY?n.value[0]:n.value[1],D=e.xAxis.type=="time"?j(p,void 0,e.xAxis.timeGrain):p,I=isNaN(b)?b:f(b);return`
              <div class="flex flex-col">
                ${u==0?`<div>${D}</div>`:""}
                <div class="flex items-center justify-between gap-5">
                  <div class="flex gap-1 items-center">
                    ${n.marker}
                    <div>${T(n.seriesName)}:</div>
                  </div>
                  <div class="font-bold">${I}</div>
                </div>
              </div>
            `}).join("")},confine:!0,appendToBody:!1,axisPointer:{type:"shadow"}},legend:{show:o,type:"scroll",bottom:H,orient:"horizontal",itemGap:12,padding:[0,25],formatter:function(c){return T(c)},textStyle:{padding:[0,0,0,-5],color:"#000"},icon:"circle",pageIcons:{horizontal:["M 17 3 h 2 c 0.386 0 0.738 0.223 0.904 0.572 s 0.115 0.762 -0.13 1.062 L 11.292 15 l 8.482 10.367 c 0.245 0.299 0.295 0.712 0.13 1.062 S 19.386 27 19 27 h -2 c -0.3 0 -0.584 -0.135 -0.774 -0.367 l -9 -11 c -0.301 -0.369 -0.301 -0.898 0 -1.267 l 9 -11 C 16.416 3.135 16.7 3 17 3 Z","M 12 27 h -2 c -0.386 0 -0.738 -0.223 -0.904 -0.572 s -0.115 -0.762 0.13 -1.062 L 17.708 15 L 9.226 4.633 c -0.245 -0.299 -0.295 -0.712 -0.13 -1.062 S 9.614 3 10 3 h 2 c 0.3 0 0.584 0.135 0.774 0.367 l 9 11 c 0.301 0.369 0.301 0.898 0 1.267 l -9 11 C 12.584 26.865 12.3 27 12 27 Z"]},pageIconColor:"#64748B",pageInactiveColor:"#C0CCDA",pageIconSize:10,pageTextStyle:{color:"#64748B"},animationDurationUpdate:300}}}function Q(e,t){return{top:"4px",left:"0.8%",text:e,subtext:t,padding:0,itemGap:-3,textStyle:{fontSize:14,fontWeight:500,lineHeight:24},subtextStyle:{fontSize:13,fontWeight:400,lineHeight:20}}}function R(e){const t=e.swapXY?{show:!0,type:"value",z:2,scale:!1,boundaryGap:!1,position:"top",name:`${e.yAxis.title} →`,nameGap:6,nameLocation:"end",nameTextStyle:{align:"right",verticalAlign:"bottom",padding:[0,0,26,0],backgroundColor:"#fff",borderColor:"#fff",borderWidth:4},splitLine:{show:!0,width:1},axisLine:{show:!1,onZero:!1},axisTick:{show:!1,alignWithLabel:!0,formatter:function(s){return f(s,1,!0)}},axisLabel:{show:!0,hideOverlap:!0,margin:8,formatter:function(s){return f(s,1,!0)}}}:{z:2,type:e.xAxis.type,scale:!0,splitLine:{show:!1},axisLine:{show:!0},axisTick:{show:!1,alignWithLabel:!0},axisLabel:{show:!0,hideOverlap:!0,showMaxLabel:e.xAxis.type==="category"||e.xAxis.type==="value",margin:8}};return h(t,e.swapXY?e.yAxis.echartOptions:e.xAxis.echartOptions)}function J(e){var r,i,o,a,y;let t=e.swapXY?{show:!0,type:e.xAxis.type,z:2,scale:!0,inverse:"true",splitLine:{show:!1},axisLine:{show:!0},axisTick:{show:!1,alignWithLabel:!0},axisLabel:{show:!0,hideOverlap:!0,margin:6}}:{show:!0,type:"value",z:2,scale:!1,boundaryGap:["0%","1%"],name:`↑ ${e.yAxis.title}`,nameGap:6,nameLocation:"end",nameTextStyle:{align:"left",verticalAlign:"top",padding:[0,0,0,-2],backgroundColor:"#fff",borderColor:"#fff",borderWidth:4},splitLine:{show:!0,width:1},axisLine:{show:!1,onZero:!1},axisTick:{show:!1,alignWithLabel:!0},axisLabel:{show:!0,hideOverlap:!0,margin:8,formatter:function(d){return f(d,1,!0)}},min:e.yAxis.yMin,max:e.yAxis.yMax};t=h(t,e.swapXY?e.xAxis.echartOptions:e.yAxis.echartOptions);let s={show:!1,type:"value",z:2,alignTicks:!0,scale:!1,boundaryGap:["0%","1%"],name:`${(r=e.y2Axis)==null?void 0:r.title} ↑`,nameLocation:"end",nameTextStyle:{align:"right",verticalAlign:"top",padding:[0,5,0,0],backgroundColor:"#fff"},nameGap:6,splitLine:{show:!0,width:1},axisLine:{show:!1,onZero:!1},axisTick:{show:!1,alignWithLabel:!0},axisLabel:{show:!0,hideOverlap:!0,margin:8,formatter:function(d){return f(d,1,!0)}},min:(i=e.y2Axis)==null?void 0:i.yMin,max:(o=e.y2Axis)==null?void 0:o.yMax};return s=h(s,e.swapXY?(a=e.y2Axis)==null?void 0:a.echartOptions:(y=e.y2Axis)==null?void 0:y.echartOptions),e.swapXY?[t]:[t,s]}function K(e){const t=e.data||[],s=q(e);if(e.xAxis.type==="time"&&e.swapXY)throw new Error("Swap axes is not supported for time series data");if(e.series.find(a=>a.axis==="y2"||a.type!=="bar")&&e.swapXY)throw new Error("Swap axes is not supported for non-bar series or y2 axis");const r=e.swapXY,i=e.series.slice().reverse().findIndex(a=>a.type==="bar");return e.series.some(a=>a.axis==="y2")&&(s.yAxis[1].show=!0),s.series=e.series.map((a,y)=>{let d="top";a.type=="bar"&&e.stacked&&(d=y==i?"top":"inside"),a.type=="bar"&&r&&(d="right");const c={type:a.type,name:a.name,data:t.map(n=>{let u,p;return r?(u=n[a.name],p=n[e.xAxis.key]):(u=n[e.xAxis.key],p=n[a.name]),[u,p]}),yAxisIndex:a.axis==="y2"?1:0,label:{show:a.showDataLabels,position:d,formatter:n=>{var p,b;const u=r?(p=n.value)==null?void 0:p[0]:(b=n.value)==null?void 0:b[1];return f(u,1,!0)},fontSize:11},labelLayout:{hideOverlap:!0},itemStyle:{color:a.color}};let l={};return a.type==="bar"&&(l=ee(e,a)),a.type==="line"&&(l=te(e,a)),a.type==="area"&&(l=se(e,a)),h(c,l,a.echartOptions)}),h(s,e.echartOptions)}function ee(e,t){const s=e.swapXY?[0,2,2,0]:[2,2,0,0],r=e.series.findIndex(a=>a.name===t.name),o=e.series.slice().reverse().findIndex(a=>a.type==="bar")===r;return{stack:e.stacked?"stack":void 0,barMaxWidth:60,itemStyle:{borderRadius:e.stacked?o?s:0:s}}}function te(e,t){return{symbol:"circle",symbolSize:7,showSymbol:t.showDataPoints||t.showDataLabels,emphasis:{},lineStyle:{width:t.lineWidth||2,type:t.lineType}}}function se(e,t){return{type:"line",showSymbol:t.showDataPoints,areaStyle:{color:t.color,opacity:t.fillOpacity||.5}}}const ae=Y({__name:"ECharts",props:{options:{},events:{},error:{}},setup(e){const t=e;let s;const r=O();return C(()=>{var a;if(!r.value)return;s=k(r.value,"light",{renderer:"svg"}),s.setOption({...t.options},!0),(a=t.events)!=null&&a.click&&s.on("click",t.events.click);const i=B(()=>{s.resize({animation:{duration:300}})},250);let o=new ResizeObserver(i);setTimeout(()=>o.observe(r.value),500),N(()=>o.unobserve(r.value))}),(i,o)=>(v(),A(z,null,[g(m("div",{ref_key:"chartDiv",ref:r,class:"h-full w-full min-w-[400px] min-h-[300px] px-4 py-2"},null,512),[[L,!i.error]]),g(m("div",{class:"flex h-full w-full items-center justify-center text-center text-red-500"}," Error: "+x(i.error),513),[[L,i.error]])],64))}}),ue=Y({__name:"AxisChart",props:{config:{}},setup(e){const t=e,s=O(""),r=E(()=>{try{return K(t.config)}catch(i){return s.value=i.message,{}}});return(i,o)=>(v(),X(ae,{options:r.value,error:s.value},null,8,["options","error"]))}}),re={class:"flex w-full flex-col"},ie={class:"truncate text-sm font-medium"},ne={class:"flex-1 flex-shrink-0 truncate text-[24px] font-semibold leading-10"},oe={class:""},pe=Y({__name:"NumberChart",props:{config:{}},setup(e){return O(""),(t,s)=>(v(),A("div",{class:M(["flex max-h-[140px] items-center gap-2 overflow-hidden bg-white px-6 pt-5",t.config.delta?"pb-6":"pb-3"])},[m("div",re,[m("span",ie,x(t.config.title),1),m("div",ne,x(t.config.prefix)+x(S(f)(t.config.value,1,!0))+x(t.config.suffix),1),t.config.delta?(v(),A("div",{key:0,class:M(["flex items-center gap-0.5 text-xs font-medium",[t.config.negativeIsBetter?t.config.delta>=0?"text-red-500":"text-green-500":t.config.delta>=0?"text-green-500":"text-red-500"]])},[m("span",oe,x(t.config.delta>=0?"↑":"↓"),1),m("span",null,x(t.config.deltaPrefix)+x(S(f)(t.config.delta,1,!0))+x(t.config.deltaSuffix),1)],2)):G("",!0)])],2))}});export{pe as _,ue as a,ae as b,f,Q as g};
//# sourceMappingURL=NumberChart.vue_vue_type_script_setup_true_lang-29cDrGGN.js.map
