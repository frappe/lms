{"version":3,"file":"InsertVideo-TQ5TGvhY.js","sources":["../../../../node_modules/frappe-ui/src/components/TextEditor/InsertVideo.vue"],"sourcesContent":["<template>\n  <slot v-bind=\"{ onClick: openDialog }\"></slot>\n  <Dialog\n    :options=\"{ title: 'Add Video' }\"\n    v-model=\"addVideoDialog.show\"\n    @after-leave=\"reset\"\n  >\n    <template #body-content>\n      <FileUploader\n        file-types=\"video/*\"\n        @success=\"(file) => (addVideoDialog.url = file.file_url)\"\n      >\n        <template v-slot=\"{ file, progress, uploading, openFileSelector }\">\n          <div class=\"flex items-center space-x-2\">\n            <Button @click=\"openFileSelector\">\n              {{\n                uploading\n                  ? `Uploading ${progress}%`\n                  : addVideoDialog.url\n                    ? 'Change Video'\n                    : 'Upload Video'\n              }}\n            </Button>\n            <Button\n              v-if=\"addVideoDialog.url\"\n              @click=\"\n                () => {\n                  addVideoDialog.url = null\n                  addVideoDialog.file = null\n                }\n              \"\n            >\n              Remove\n            </Button>\n          </div>\n        </template>\n      </FileUploader>\n      <video\n        v-if=\"addVideoDialog.url\"\n        :src=\"addVideoDialog.url\"\n        class=\"mt-2 w-full rounded-lg\"\n        type=\"video/mp4\"\n        controls\n      />\n    </template>\n    <template #actions>\n      <div class=\"flex gap-2\">\n        <Button variant=\"solid\" @click=\"addVideo(addVideoDialog.url)\">\n          Insert Video\n        </Button>\n        <Button @click=\"reset\">Cancel</Button>\n      </div>\n    </template>\n  </Dialog>\n</template>\n<script>\nimport { Button } from '../Button'\nimport Dialog from '../Dialog.vue'\nimport FileUploader from '../FileUploader.vue'\n\nexport default {\n  name: 'InsertImage',\n  props: ['editor'],\n  expose: ['openDialog'],\n  data() {\n    return {\n      addVideoDialog: { url: '', file: null, show: false },\n    }\n  },\n  components: { Button, Dialog, FileUploader },\n  methods: {\n    openDialog() {\n      this.addVideoDialog.show = true\n    },\n    onVideoSelect(e) {\n      let file = e.target.files[0]\n      if (!file) {\n        return\n      }\n      this.addVideoDialog.file = file\n    },\n\n    addVideo(src) {\n      if (!src) return\n      this.editor\n        .chain()\n        .focus()\n        .insertContent(`<video src=\"${src}\"></video>`)\n        .run()\n      this.reset()\n    },\n    reset() {\n      this.addVideoDialog = this.$options.data().addVideoDialog\n    },\n  },\n}\n</script>\n"],"names":["_sfc_main","Button","Dialog","FileUploader","e","file","src","_hoisted_1","_hoisted_2","_hoisted_3","_openBlock","_createElementBlock","_Fragment","_renderSlot","_ctx","_normalizeProps","_guardReactiveProps","$options","_createVNode","_component_Dialog","$data","_cache","$event","_component_FileUploader","_withCtx","progress","uploading","openFileSelector","_createElementVNode","_component_Button","_createTextVNode","_toDisplayString","_createBlock","_createCommentVNode"],"mappings":"oKA4DA,MAAKA,EAAU,CACb,KAAM,cACN,MAAO,CAAC,QAAQ,EAChB,OAAQ,CAAC,YAAY,EACrB,MAAO,CACL,MAAO,CACL,eAAgB,CAAE,IAAK,GAAI,KAAM,KAAM,KAAM,EAAO,CACtD,CACD,EACD,WAAY,CAAEC,OAAAA,SAAQC,EAAQ,aAAAC,CAAc,EAC5C,QAAS,CACP,YAAa,CACX,KAAK,eAAe,KAAO,EAC5B,EACD,cAAcC,EAAG,CACf,IAAIC,EAAOD,EAAE,OAAO,MAAM,CAAC,EACtBC,IAGL,KAAK,eAAe,KAAOA,EAC5B,EAED,SAASC,EAAK,CACPA,IACL,KAAK,OACF,MAAK,EACL,MAAK,EACL,cAAc,eAAeA,CAAG,YAAY,EAC5C,IAAG,EACN,KAAK,MAAK,EACX,EACD,OAAQ,CACN,KAAK,eAAiB,KAAK,SAAS,KAAI,EAAG,cAC5C,CACF,CACH,EAlFeC,EAAA,CAAA,MAAM,6BAA6B,EAblDC,EAAA,CAAA,KAAA,EA8CWC,EAAA,CAAA,MAAM,YAAY,gFA9C7B,OAAAC,EAAA,EAAAC,EAAAC,EAAA,KAAA,CACEC,EAA8CC,EAAA,OAAA,UADhDC,EAAAC,EAAA,CAAA,QAC2BC,EAAU,UAAA,CAAA,CAAA,CAAA,EACnCC,EAmDSC,EAAA,CAlDN,QAAS,CAAsB,MAAA,WAAA,EAHpC,WAIaC,EAAA,eAAe,KAJ5B,sBAIaC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,eAAe,KAAIE,GAC3B,aAAaL,EAAK,QAER,iBACT,IA4Be,CA5BfC,EA4BeK,EAAA,CA3Bb,aAAW,UACV,UAAOF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAGhB,GAAUe,EAAA,eAAe,IAAMf,EAAK,YAVvD,QAaUmB,EAAA,CAqBM,CAtBY,KAAAnB,EAAM,SAAAoB,EAAU,UAAAC,EAAW,iBAAAC,KAAgB,CAC7DC,EAqBM,MArBNrB,EAqBM,CApBJW,EAQSW,EAAA,CARA,QAAOF,CAAgB,EAAA,CAd5C,QAAAH,EAec,IAME,CArBhBM,EAAAC,EAgBgBL,eAA2CD,CAAQ,IAAwBL,EAAA,eAAe,wCAhB1G,EAAA,qBAwBoBA,EAAA,eAAe,SADvBY,EAUSH,EAAA,CAjCrB,IAAA,EAyBe,aAAkDT,EAAA,eAAe,IAAG,KAA0BA,EAAA,eAAe,KAAI,QAzBhI,QAAAI,EA+Ba,IAEDH,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAjCZS,EA+Ba,UAED,KAjCZ,EAAA,EAAA,GAAA,CAAA,CAAA,sBAAAG,EAAA,GAAA,EAAA,MAAA,EAAA,IAsCcb,EAAA,eAAe,SADvBT,EAME,QAAA,CA3CR,IAAA,EAuCS,IAAKS,EAAc,eAAC,IACrB,MAAM,yBACN,KAAK,YACL,SAAA,EA1CR,EAAA,KAAA,EAAAZ,CAAA,GAAAyB,EAAA,GAAA,EAAA,IA6Ce,UACT,IAKM,CALNL,EAKM,MALNnB,EAKM,CAJJS,EAESW,EAAA,CAFD,QAAQ,QAAS,QAAOR,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAL,EAAA,SAASG,EAAA,eAAe,GAAG,KA/CnE,QAAAI,EA+CsE,IAE9DH,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAjDRS,EA+CsE,gBAE9D,KAjDR,EAAA,EAAA,GAAA,CAAA,CAAA,IAkDQZ,EAAsCW,EAAA,CAA7B,QAAOZ,EAAK,KAAA,EAAA,CAlD7B,QAAAO,EAkD+B,IAAMH,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAlDrCS,EAkD+B,QAAM,KAlDrC,EAAA,EAAA,GAAA,CAAA,CAAA,sBAAA,EAAA","x_google_ignoreList":[0]}